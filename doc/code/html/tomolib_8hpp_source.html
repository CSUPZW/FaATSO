<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Faatso: /Volumes/Data/Projects/Tomography/Faatso/include/tomolib.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Faatso
   </div>
   <div id="projectbrief">Fast marching Anisotropic Acoustic emission Tomography using Standard Optimisation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">tomolib.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//safeguard library</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#ifndef TOMOLIB_INCLUDED</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#define TOMOLIB_INCLUDED</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor"># include&lt;armadillo&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor"># include&lt;vector&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor"># include&lt;string&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor"># include &quot;fmmiolib.hpp&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">const</span> <span class="keywordtype">double</span> V_SHADOW = -100.0; <span class="comment">// remember that the wavespeed will then be exp(-100) = 3.72e-44 ... close enough from zero !</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="class_parameters.html">   15</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_parameters.html">Parameters</a></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;{</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="class_parameters.html#aaae1c65836e5cc200a71e55e1f85b6cc">   18</a></span>&#160;  std::string <a class="code" href="class_parameters.html#aaae1c65836e5cc200a71e55e1f85b6cc">folder</a>; </div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="class_parameters.html#a53e2cf472e9d687a26374cda4211ce8f">   19</a></span>&#160;  std::string <a class="code" href="class_parameters.html#a53e2cf472e9d687a26374cda4211ce8f">paramfile</a>; </div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="class_parameters.html#a69c3f616da6012e882f5cc6a4ac2bc52">   20</a></span>&#160;  std::string <a class="code" href="class_parameters.html#a69c3f616da6012e882f5cc6a4ac2bc52">sensorfile</a>; </div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="class_parameters.html#a6f54aa04f6aa0ddd72a769d6e1bf8dd9">   21</a></span>&#160;  std::string <a class="code" href="class_parameters.html#a6f54aa04f6aa0ddd72a769d6e1bf8dd9">eventfile</a>; </div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="class_parameters.html#abf0f99fc486e2502bb1c56dea7a47790">   22</a></span>&#160;  std::string <a class="code" href="class_parameters.html#abf0f99fc486e2502bb1c56dea7a47790">tsurveyfile</a>; </div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="class_parameters.html#ac333c359e83f8576d6e97731740d8a5c">   23</a></span>&#160;  std::string <a class="code" href="class_parameters.html#ac333c359e83f8576d6e97731740d8a5c">teventfile</a>; </div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="class_parameters.html#a841eafa3511c88d82e0abb19c5d61078">   24</a></span>&#160;  std::string <a class="code" href="class_parameters.html#a841eafa3511c88d82e0abb19c5d61078">vpriorfile</a>; </div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="class_parameters.html#a0b28754d62c18f739744589a018a3fd5">   25</a></span>&#160;  std::string <a class="code" href="class_parameters.html#a0b28754d62c18f739744589a018a3fd5">Epriorfile</a>; </div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="class_parameters.html#ae8ed1b81af86ba0163851b3997469191">   26</a></span>&#160;  std::string <a class="code" href="class_parameters.html#ae8ed1b81af86ba0163851b3997469191">vpostfile</a>; </div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="class_parameters.html#aecbac99b3ffaba3d0095807e86573e6e">   27</a></span>&#160;  std::string <a class="code" href="class_parameters.html#aecbac99b3ffaba3d0095807e86573e6e">Epostfile</a>; </div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="class_parameters.html#ab3eb89fdf1b78f161c06c0db824766a2">   28</a></span>&#160;  std::string <a class="code" href="class_parameters.html#ab3eb89fdf1b78f161c06c0db824766a2">eventpostfile</a>; </div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="class_parameters.html#a63aca1b68e0c3a3719eff262f0d537d3">   29</a></span>&#160;  std::string <a class="code" href="class_parameters.html#a63aca1b68e0c3a3719eff262f0d537d3">dcalcfile</a>; </div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="class_parameters.html#aad74d1327d7ac7eb90dfc6b3b6bdef03">   30</a></span>&#160;  std::string <a class="code" href="class_parameters.html#aad74d1327d7ac7eb90dfc6b3b6bdef03">Cmpostfile</a>; </div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="class_parameters.html#ad432587d4e468340b10f6e0f5c171f07">   31</a></span>&#160;  std::string <a class="code" href="class_parameters.html#ad432587d4e468340b10f6e0f5c171f07">mpostfile</a>; </div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="class_parameters.html#a1270dd90767f117031f0aac51f30f886">   32</a></span>&#160;  std::string <a class="code" href="class_parameters.html#a1270dd90767f117031f0aac51f30f886">residualfile</a>; </div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="class_parameters.html#a00253c8b1546d94fe3b897c1187e30af">   33</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="class_parameters.html#a00253c8b1546d94fe3b897c1187e30af">n</a>; </div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="class_parameters.html#a877a21e7ec0f9ce1ed77fda9e2bead27">   34</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="class_parameters.html#a877a21e7ec0f9ce1ed77fda9e2bead27">s_surveys</a>; </div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="class_parameters.html#a2aabd7d4c432c067c87446c430b0b137">   35</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="class_parameters.html#a2aabd7d4c432c067c87446c430b0b137">s_events</a>; </div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="class_parameters.html#a1a66d61a5f2afd737ea2cbc0c74e9358">   36</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="class_parameters.html#a1a66d61a5f2afd737ea2cbc0c74e9358">maxit</a>; </div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="class_parameters.html#acfd7724d13974a7319efffe6c06002bc">   37</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="class_parameters.html#acfd7724d13974a7319efffe6c06002bc">tol</a>; </div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="class_parameters.html#a9af1dadb296181402dd7e912627c516b">   38</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="class_parameters.html#a9af1dadb296181402dd7e912627c516b">mu</a>; </div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="class_parameters.html#a84da37ac0f21d429dfa2e42879b2583a">   39</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="class_parameters.html#a84da37ac0f21d429dfa2e42879b2583a">s_v</a>; </div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="class_parameters.html#a697134003e20023ff1b703d168c23477">   40</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="class_parameters.html#a697134003e20023ff1b703d168c23477">s_E</a>; </div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="class_parameters.html#af037423164c649695584ea99336a6b43">   41</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="class_parameters.html#af037423164c649695584ea99336a6b43">lambda</a>; </div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="class_parameters.html#abc42eec18b6c845d39cb801a9497eda3">   42</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="class_parameters.html#abc42eec18b6c845d39cb801a9497eda3">s_x</a>; </div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="class_parameters.html#a96a537045f89c972ffad89796f39ece6">   43</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="class_parameters.html#a96a537045f89c972ffad89796f39ece6">s_y</a>; </div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="class_parameters.html#ad1df7369bd337edce362825af61a49bb">   44</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="class_parameters.html#ad1df7369bd337edce362825af61a49bb">s_z</a>; </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="class_parameters.html#af0981e025f8ca9c984e862eb7778e498">   45</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="class_parameters.html#af0981e025f8ca9c984e862eb7778e498">s_t0</a>; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <a class="code" href="class_parameters.html#af4d94ee360ac0157d9065f78797fe9a1">Parameters</a>();</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <a class="code" href="class_parameters.html#af4d94ee360ac0157d9065f78797fe9a1">Parameters</a>(<span class="keyword">const</span> std::string&amp; );</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_parameters.html#a8844c0e0b7931802c29988b3eef1452d">initialise</a>(<span class="keyword">const</span> std::string&amp; );</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;};</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="class_m.html">   53</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_m.html">M</a></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;{</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="class_m.html#a93ca113823caa7be72cdb37b9f38f2b2">   56</a></span>&#160;  arma::vec  <a class="code" href="class_m.html#a93ca113823caa7be72cdb37b9f38f2b2">m</a>; </div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="class_m.html#ae50d1e51deae3028c315c8e1376ecac3">   57</a></span>&#160;  arma::vec  <a class="code" href="class_m.html#ae50d1e51deae3028c315c8e1376ecac3">m_prior</a>; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="class_m.html#ae65c01bcdca53a92ed9c79d4236a3adb">   58</a></span>&#160;  arma::mat  <a class="code" href="class_m.html#ae65c01bcdca53a92ed9c79d4236a3adb">Cmi</a>; </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="class_m.html#ab653e08675522b7db973777825ee5eb2">   59</a></span>&#160;  std::vector&lt;locations::Location&gt; <a class="code" href="class_m.html#ab653e08675522b7db973777825ee5eb2">events</a>; </div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="class_m.html#a507aff114ae0f48cbc140df0307e2f09">   60</a></span>&#160;  <a class="code" href="class_data.html">Data</a> <a class="code" href="class_m.html#a507aff114ae0f48cbc140df0307e2f09">v0</a>; </div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="class_m.html#a82088ed3c05ba157b2a989bf8b7234a2">   61</a></span>&#160;  <a class="code" href="class_data.html">Data</a> <a class="code" href="class_m.html#a82088ed3c05ba157b2a989bf8b7234a2">E0</a>; </div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="class_m.html#a61aa549798080380365aa3d0e360e3d8">   62</a></span>&#160;  <a class="code" href="class_data.html">Data</a> <a class="code" href="class_m.html#a61aa549798080380365aa3d0e360e3d8">vf</a>; </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="class_m.html#a7e2544d0f3635e91cc3c1af82a009fdc">   63</a></span>&#160;  <a class="code" href="class_data.html">Data</a> <a class="code" href="class_m.html#a7e2544d0f3635e91cc3c1af82a009fdc">Ef</a>; </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="class_m.html#a9253f8fa827548abf4e542e80b315aa1">   64</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="class_m.html#a9253f8fa827548abf4e542e80b315aa1">n</a>; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <a class="code" href="class_m.html#a5466fd39fe84f5612cb451d4b019b2b5">M</a>();</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <a class="code" href="class_m.html#a5466fd39fe84f5612cb451d4b019b2b5">M</a>(<span class="keyword">const</span> <a class="code" href="class_parameters.html">Parameters</a>&amp;);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_m.html#a7371d3ae555c21f0555fd8d30e76160b">initialise</a>(<span class="keyword">const</span> <a class="code" href="class_parameters.html">Parameters</a>&amp;);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_m.html#aa5bb4779a1c249dc8249f7e6a702f8bf">update_internals</a>();</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_m.html#a8d9192b1fabcfdb0a4e860ff41e23827">export_data</a>();</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_m.html#ab4b29e117e8249308cf4f738b2e470da">export_m</a>();</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordtype">double</span> lambda; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordtype">double</span> s_v; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordtype">double</span> s_E; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordtype">double</span> s_x; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordtype">double</span> s_y; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordtype">double</span> s_z; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordtype">double</span> s_t0; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  arma::uvec ind_m_null; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  std::string vpostfile; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  std::string Epostfile; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  std::string eventpostfile; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  std::string mpostfile; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordtype">void</span> build_inv_covariance();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;};</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="class_sources.html">   93</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_sources.html">Sources</a></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;{</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="class_sources.html#af990adc8af8e3b67f37cf211758a4c07">   96</a></span>&#160;  arma::uvec <a class="code" href="class_sources.html#af990adc8af8e3b67f37cf211758a4c07">active</a>; </div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="class_sources.html#a9e9d18baf071e3de6d1ea1d58b8bb455">   97</a></span>&#160;  arma::uvec <a class="code" href="class_sources.html#a9e9d18baf071e3de6d1ea1d58b8bb455">passive</a>; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;};</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="class_d.html">  102</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_d.html">D</a></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;{</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  arma::vec d;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  arma::vec d_obs;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  arma::mat Cdi;</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="class_d.html#aa525d3826786c43ac8a2a7bbad2131a9">  108</a></span>&#160;  std::vector&lt;Sources&gt; <a class="code" href="class_d.html#aa525d3826786c43ac8a2a7bbad2131a9">path</a>; </div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="class_d.html#a6d2c6be7472058d3a1d30a914a767aba">  109</a></span>&#160;  std::vector&lt;locations::Location&gt; <a class="code" href="class_d.html#a6d2c6be7472058d3a1d30a914a767aba">sensors</a>; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <a class="code" href="class_d.html#aaa9c0c32402aef951a8c23b6ac6e8913">D</a>();</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <a class="code" href="class_d.html#aaa9c0c32402aef951a8c23b6ac6e8913">D</a>(<span class="keyword">const</span> <a class="code" href="class_parameters.html">Parameters</a>&amp;, <span class="keyword">const</span> <a class="code" href="class_m.html">M</a>&amp;);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_d.html#aae447abcdaa132f565316ee549893d3d">initialise</a>(<span class="keyword">const</span> <a class="code" href="class_parameters.html">Parameters</a>&amp;, <span class="keyword">const</span> <a class="code" href="class_m.html">M</a>&amp;);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_d.html#ad985a819e820a7d29fea9324ce5c2c1a">export_all</a>();</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_d.html#a2a51e07cb62d4e2857b473a479217fec">forward_model</a>(<a class="code" href="class_m.html">M</a> &amp;, arma::mat &amp;);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="class_d.html#af616cd278b1ae31796bd5f0475205841">get_residual</a>(<a class="code" href="class_m.html">M</a>&amp;);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordtype">int</span> Ndshots; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordtype">int</span> Ndevents; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  std::string dcalcfile; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordtype">double</span> s_surveys; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordtype">double</span> s_events; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordtype">void</span> build_inv_covariance();</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordtype">void</span> build_data_vector(std::string, std::string, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;};</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="class_quasi_newton.html">  132</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_quasi_newton.html">QuasiNewton</a></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;{</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="class_quasi_newton.html#ad74eafe14d3eef96f6cd88bac4cb358e">  135</a></span>&#160;  arma::mat <a class="code" href="class_quasi_newton.html#ad74eafe14d3eef96f6cd88bac4cb358e">G</a>; </div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="class_quasi_newton.html#a186725d7fd0c9aa36293ed558a1da33d">  136</a></span>&#160;  arma::vec <a class="code" href="class_quasi_newton.html#a186725d7fd0c9aa36293ed558a1da33d">dm</a>; </div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="class_quasi_newton.html#a31bab409e3dae8033ad24991502a470b">  137</a></span>&#160;  arma::vec <a class="code" href="class_quasi_newton.html#a31bab409e3dae8033ad24991502a470b">residual</a>; </div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="class_quasi_newton.html#a3631a7faba07f2d19ac2077e81995396">  138</a></span>&#160;  arma::mat <a class="code" href="class_quasi_newton.html#a3631a7faba07f2d19ac2077e81995396">Cmpost</a>; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <a class="code" href="class_quasi_newton.html#acaf2392549a58260df32c0b77a175236">QuasiNewton</a>();</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <a class="code" href="class_quasi_newton.html#acaf2392549a58260df32c0b77a175236">QuasiNewton</a>(<span class="keyword">const</span> <a class="code" href="class_parameters.html">Parameters</a>&amp;);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_quasi_newton.html#ae970b4a40406d2a1f1bbaf97f3ee5708">initialise</a>(<span class="keyword">const</span> <a class="code" href="class_parameters.html">Parameters</a>&amp;);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_quasi_newton.html#ad6b725714c4ef6aeb9b40084051eda6f">run</a>(<a class="code" href="class_m.html">M</a>&amp;, <a class="code" href="class_d.html">D</a>&amp;);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_quasi_newton.html#afe8797743864a335e5f3e636d6685903">iterate</a>(<a class="code" href="class_m.html">M</a>&amp;, <a class="code" href="class_d.html">D</a>&amp;);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_quasi_newton.html#a6f48065d6c82b0d4679f53e7980a79c6">export_posterior</a>(<a class="code" href="class_m.html">M</a>&amp;, <a class="code" href="class_d.html">D</a>&amp;);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  std::string residualfile; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  std::string Cmpostfile; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordtype">int</span> maxit; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordtype">double</span> tol; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordtype">double</span> stepsize; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;};</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="ttc" id="class_m_html"><div class="ttname"><a href="class_m.html">M</a></div><div class="ttdoc">The class M corresponds to the model parameters in the inverse problem. It contains not only the vect...</div><div class="ttdef"><b>Definition:</b> tomolib.hpp:53</div></div>
<div class="ttc" id="class_quasi_newton_html_a186725d7fd0c9aa36293ed558a1da33d"><div class="ttname"><a href="class_quasi_newton.html#a186725d7fd0c9aa36293ed558a1da33d">QuasiNewton::dm</a></div><div class="ttdeci">arma::vec dm</div><div class="ttdoc">contains the current step in m </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:136</div></div>
<div class="ttc" id="class_m_html_ae50d1e51deae3028c315c8e1376ecac3"><div class="ttname"><a href="class_m.html#ae50d1e51deae3028c315c8e1376ecac3">M::m_prior</a></div><div class="ttdeci">arma::vec m_prior</div><div class="ttdoc">vector of prior values of m </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:57</div></div>
<div class="ttc" id="class_sources_html"><div class="ttname"><a href="class_sources.html">Sources</a></div><div class="ttdoc">The class Sources is essentially a map containing the indices of the active and passive sources for w...</div><div class="ttdef"><b>Definition:</b> tomolib.hpp:93</div></div>
<div class="ttc" id="class_data_html"><div class="ttname"><a href="class_data.html">Data</a></div><div class="ttdoc">The class Data is used to load and save the binaries used for input/output in the fmm main code...</div><div class="ttdef"><b>Definition:</b> fmmiolib.hpp:13</div></div>
<div class="ttc" id="class_parameters_html_ae8ed1b81af86ba0163851b3997469191"><div class="ttname"><a href="class_parameters.html#ae8ed1b81af86ba0163851b3997469191">Parameters::vpostfile</a></div><div class="ttdeci">std::string vpostfile</div><div class="ttdoc">name of posterior ln(v) structure file (.dat) </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:26</div></div>
<div class="ttc" id="class_parameters_html_a9af1dadb296181402dd7e912627c516b"><div class="ttname"><a href="class_parameters.html#a9af1dadb296181402dd7e912627c516b">Parameters::mu</a></div><div class="ttdeci">double mu</div><div class="ttdoc">quasi-Newton step size </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:38</div></div>
<div class="ttc" id="class_parameters_html_aecbac99b3ffaba3d0095807e86573e6e"><div class="ttname"><a href="class_parameters.html#aecbac99b3ffaba3d0095807e86573e6e">Parameters::Epostfile</a></div><div class="ttdeci">std::string Epostfile</div><div class="ttdoc">name of posterior E structure file (.dat) </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:27</div></div>
<div class="ttc" id="class_quasi_newton_html_afe8797743864a335e5f3e636d6685903"><div class="ttname"><a href="class_quasi_newton.html#afe8797743864a335e5f3e636d6685903">QuasiNewton::iterate</a></div><div class="ttdeci">void iterate(M &amp;, D &amp;)</div><div class="ttdoc">Method to perform one iteration of the QuasiNewton inversion procedure. During this process...</div><div class="ttdef"><b>Definition:</b> tomolib.cpp:767</div></div>
<div class="ttc" id="class_parameters_html_ad1df7369bd337edce362825af61a49bb"><div class="ttname"><a href="class_parameters.html#ad1df7369bd337edce362825af61a49bb">Parameters::s_z</a></div><div class="ttdeci">double s_z</div><div class="ttdoc">std dev on x position of events </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:44</div></div>
<div class="ttc" id="class_parameters_html_a00253c8b1546d94fe3b897c1187e30af"><div class="ttname"><a href="class_parameters.html#a00253c8b1546d94fe3b897c1187e30af">Parameters::n</a></div><div class="ttdeci">int n</div><div class="ttdoc">grid refinement factor </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:33</div></div>
<div class="ttc" id="class_parameters_html_ad432587d4e468340b10f6e0f5c171f07"><div class="ttname"><a href="class_parameters.html#ad432587d4e468340b10f6e0f5c171f07">Parameters::mpostfile</a></div><div class="ttdeci">std::string mpostfile</div><div class="ttdoc">name of file for posterior model values (ascii) </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:31</div></div>
<div class="ttc" id="class_m_html_ae65c01bcdca53a92ed9c79d4236a3adb"><div class="ttname"><a href="class_m.html#ae65c01bcdca53a92ed9c79d4236a3adb">M::Cmi</a></div><div class="ttdeci">arma::mat Cmi</div><div class="ttdoc">inverse of correlation matrix </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:58</div></div>
<div class="ttc" id="class_parameters_html_af4d94ee360ac0157d9065f78797fe9a1"><div class="ttname"><a href="class_parameters.html#af4d94ee360ac0157d9065f78797fe9a1">Parameters::Parameters</a></div><div class="ttdeci">Parameters()</div><div class="ttdoc">basic class constructor. Sets default values. These are quite arbitrary so it is not very useful at t...</div><div class="ttdef"><b>Definition:</b> tomolib.cpp:10</div></div>
<div class="ttc" id="class_parameters_html_abc42eec18b6c845d39cb801a9497eda3"><div class="ttname"><a href="class_parameters.html#abc42eec18b6c845d39cb801a9497eda3">Parameters::s_x</a></div><div class="ttdeci">double s_x</div><div class="ttdoc">std dev on x position of events </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:42</div></div>
<div class="ttc" id="class_parameters_html"><div class="ttname"><a href="class_parameters.html">Parameters</a></div><div class="ttdoc">the class Parameters is a structure containing inversion parameters, file names, etc. </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:15</div></div>
<div class="ttc" id="class_quasi_newton_html_acaf2392549a58260df32c0b77a175236"><div class="ttname"><a href="class_quasi_newton.html#acaf2392549a58260df32c0b77a175236">QuasiNewton::QuasiNewton</a></div><div class="ttdeci">QuasiNewton()</div><div class="ttdoc">Default constructor. </div><div class="ttdef"><b>Definition:</b> tomolib.cpp:741</div></div>
<div class="ttc" id="class_m_html_a7e2544d0f3635e91cc3c1af82a009fdc"><div class="ttname"><a href="class_m.html#a7e2544d0f3635e91cc3c1af82a009fdc">M::Ef</a></div><div class="ttdeci">Data Ef</div><div class="ttdoc">data structure containing E on a refined grid </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:63</div></div>
<div class="ttc" id="class_parameters_html_a841eafa3511c88d82e0abb19c5d61078"><div class="ttname"><a href="class_parameters.html#a841eafa3511c88d82e0abb19c5d61078">Parameters::vpriorfile</a></div><div class="ttdeci">std::string vpriorfile</div><div class="ttdoc">name of prior ln(v) structure file (.dat) </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:24</div></div>
<div class="ttc" id="class_quasi_newton_html"><div class="ttname"><a href="class_quasi_newton.html">QuasiNewton</a></div><div class="ttdoc">The class QuasiNewton corresponds to the method and associated tools to solve the inverse problem...</div><div class="ttdef"><b>Definition:</b> tomolib.hpp:132</div></div>
<div class="ttc" id="class_quasi_newton_html_ad74eafe14d3eef96f6cd88bac4cb358e"><div class="ttname"><a href="class_quasi_newton.html#ad74eafe14d3eef96f6cd88bac4cb358e">QuasiNewton::G</a></div><div class="ttdeci">arma::mat G</div><div class="ttdoc">contains the current Jacobian </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:135</div></div>
<div class="ttc" id="class_m_html_a8d9192b1fabcfdb0a4e860ff41e23827"><div class="ttname"><a href="class_m.html#a8d9192b1fabcfdb0a4e860ff41e23827">M::export_data</a></div><div class="ttdeci">void export_data()</div><div class="ttdoc">method to export velocity model and event locations into readable files. </div><div class="ttdef"><b>Definition:</b> tomolib.cpp:324</div></div>
<div class="ttc" id="class_parameters_html_a1270dd90767f117031f0aac51f30f886"><div class="ttname"><a href="class_parameters.html#a1270dd90767f117031f0aac51f30f886">Parameters::residualfile</a></div><div class="ttdeci">std::string residualfile</div><div class="ttdoc">name of file with residuals </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:32</div></div>
<div class="ttc" id="class_parameters_html_af037423164c649695584ea99336a6b43"><div class="ttname"><a href="class_parameters.html#af037423164c649695584ea99336a6b43">Parameters::lambda</a></div><div class="ttdeci">double lambda</div><div class="ttdoc">correlation length </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:41</div></div>
<div class="ttc" id="class_m_html_a507aff114ae0f48cbc140df0307e2f09"><div class="ttname"><a href="class_m.html#a507aff114ae0f48cbc140df0307e2f09">M::v0</a></div><div class="ttdeci">Data v0</div><div class="ttdoc">data structure containing ln(v) on a grid </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:60</div></div>
<div class="ttc" id="class_d_html_ad985a819e820a7d29fea9324ce5c2c1a"><div class="ttname"><a href="class_d.html#ad985a819e820a7d29fea9324ce5c2c1a">D::export_all</a></div><div class="ttdeci">void export_all()</div><div class="ttdoc">method to export data into files. </div><div class="ttdef"><b>Definition:</b> tomolib.cpp:510</div></div>
<div class="ttc" id="class_quasi_newton_html_a6f48065d6c82b0d4679f53e7980a79c6"><div class="ttname"><a href="class_quasi_newton.html#a6f48065d6c82b0d4679f53e7980a79c6">QuasiNewton::export_posterior</a></div><div class="ttdeci">void export_posterior(M &amp;, D &amp;)</div><div class="ttdoc">Method to export all relevant vectors (m, d) and posterior covariance matrix into text files...</div><div class="ttdef"><b>Definition:</b> tomolib.cpp:862</div></div>
<div class="ttc" id="class_parameters_html_acfd7724d13974a7319efffe6c06002bc"><div class="ttname"><a href="class_parameters.html#acfd7724d13974a7319efffe6c06002bc">Parameters::tol</a></div><div class="ttdeci">double tol</div><div class="ttdoc">tolerance to exit QN loop </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:37</div></div>
<div class="ttc" id="class_d_html_af616cd278b1ae31796bd5f0475205841"><div class="ttname"><a href="class_d.html#af616cd278b1ae31796bd5f0475205841">D::get_residual</a></div><div class="ttdeci">double get_residual(M &amp;)</div><div class="ttdoc">Method to compute least-square residual. </div><div class="ttdef"><b>Definition:</b> tomolib.cpp:728</div></div>
<div class="ttc" id="class_parameters_html_ac333c359e83f8576d6e97731740d8a5c"><div class="ttname"><a href="class_parameters.html#ac333c359e83f8576d6e97731740d8a5c">Parameters::teventfile</a></div><div class="ttdeci">std::string teventfile</div><div class="ttdoc">name of event arrival times file (ascii) </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:23</div></div>
<div class="ttc" id="class_parameters_html_a697134003e20023ff1b703d168c23477"><div class="ttname"><a href="class_parameters.html#a697134003e20023ff1b703d168c23477">Parameters::s_E</a></div><div class="ttdeci">double s_E</div><div class="ttdoc">std dev on E </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:40</div></div>
<div class="ttc" id="class_m_html_a61aa549798080380365aa3d0e360e3d8"><div class="ttname"><a href="class_m.html#a61aa549798080380365aa3d0e360e3d8">M::vf</a></div><div class="ttdeci">Data vf</div><div class="ttdoc">data structure containing ln(v) on a refined grid </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:62</div></div>
<div class="ttc" id="class_m_html_a9253f8fa827548abf4e542e80b315aa1"><div class="ttname"><a href="class_m.html#a9253f8fa827548abf4e542e80b315aa1">M::n</a></div><div class="ttdeci">int n</div><div class="ttdoc">grid refinement factor </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:64</div></div>
<div class="ttc" id="class_d_html_a6d2c6be7472058d3a1d30a914a767aba"><div class="ttname"><a href="class_d.html#a6d2c6be7472058d3a1d30a914a767aba">D::sensors</a></div><div class="ttdeci">std::vector&lt; locations::Location &gt; sensors</div><div class="ttdoc">vector storing sensor positions </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:109</div></div>
<div class="ttc" id="class_d_html_aaa9c0c32402aef951a8c23b6ac6e8913"><div class="ttname"><a href="class_d.html#aaa9c0c32402aef951a8c23b6ac6e8913">D::D</a></div><div class="ttdeci">D()</div><div class="ttdoc">Default constructor. </div><div class="ttdef"><b>Definition:</b> tomolib.cpp:338</div></div>
<div class="ttc" id="class_parameters_html_ab3eb89fdf1b78f161c06c0db824766a2"><div class="ttname"><a href="class_parameters.html#ab3eb89fdf1b78f161c06c0db824766a2">Parameters::eventpostfile</a></div><div class="ttdeci">std::string eventpostfile</div><div class="ttdoc">name of posterior event positions file (ascii) </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:28</div></div>
<div class="ttc" id="class_parameters_html_aad74d1327d7ac7eb90dfc6b3b6bdef03"><div class="ttname"><a href="class_parameters.html#aad74d1327d7ac7eb90dfc6b3b6bdef03">Parameters::Cmpostfile</a></div><div class="ttdeci">std::string Cmpostfile</div><div class="ttdoc">name of file for posterior covariance matrix (ascii) </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:30</div></div>
<div class="ttc" id="class_parameters_html_a1a66d61a5f2afd737ea2cbc0c74e9358"><div class="ttname"><a href="class_parameters.html#a1a66d61a5f2afd737ea2cbc0c74e9358">Parameters::maxit</a></div><div class="ttdeci">int maxit</div><div class="ttdoc">max number of QN iterations </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:36</div></div>
<div class="ttc" id="class_d_html"><div class="ttname"><a href="class_d.html">D</a></div><div class="ttdoc">The class D corresponds to the data/observables and all the associated informations in the inverse pr...</div><div class="ttdef"><b>Definition:</b> tomolib.hpp:102</div></div>
<div class="ttc" id="class_m_html_a82088ed3c05ba157b2a989bf8b7234a2"><div class="ttname"><a href="class_m.html#a82088ed3c05ba157b2a989bf8b7234a2">M::E0</a></div><div class="ttdeci">Data E0</div><div class="ttdoc">data structure containing E on a grid </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:61</div></div>
<div class="ttc" id="class_parameters_html_a6f54aa04f6aa0ddd72a769d6e1bf8dd9"><div class="ttname"><a href="class_parameters.html#a6f54aa04f6aa0ddd72a769d6e1bf8dd9">Parameters::eventfile</a></div><div class="ttdeci">std::string eventfile</div><div class="ttdoc">name of event position file (ascii) </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:21</div></div>
<div class="ttc" id="class_m_html_a5466fd39fe84f5612cb451d4b019b2b5"><div class="ttname"><a href="class_m.html#a5466fd39fe84f5612cb451d4b019b2b5">M::M</a></div><div class="ttdeci">M()</div><div class="ttdoc">Default constructor. </div><div class="ttdef"><b>Definition:</b> tomolib.cpp:112</div></div>
<div class="ttc" id="class_quasi_newton_html_a31bab409e3dae8033ad24991502a470b"><div class="ttname"><a href="class_quasi_newton.html#a31bab409e3dae8033ad24991502a470b">QuasiNewton::residual</a></div><div class="ttdeci">arma::vec residual</div><div class="ttdoc">contains the sequence of residuals </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:137</div></div>
<div class="ttc" id="class_parameters_html_abf0f99fc486e2502bb1c56dea7a47790"><div class="ttname"><a href="class_parameters.html#abf0f99fc486e2502bb1c56dea7a47790">Parameters::tsurveyfile</a></div><div class="ttdeci">std::string tsurveyfile</div><div class="ttdoc">name of survey arrival times file (ascii) </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:22</div></div>
<div class="ttc" id="class_sources_html_af990adc8af8e3b67f37cf211758a4c07"><div class="ttname"><a href="class_sources.html#af990adc8af8e3b67f37cf211758a4c07">Sources::active</a></div><div class="ttdeci">arma::uvec active</div><div class="ttdoc">an array of the sensors indices for which valid data exist. </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:96</div></div>
<div class="ttc" id="class_m_html_aa5bb4779a1c249dc8249f7e6a702f8bf"><div class="ttname"><a href="class_m.html#aa5bb4779a1c249dc8249f7e6a702f8bf">M::update_internals</a></div><div class="ttdeci">void update_internals()</div><div class="ttdoc">method to convert m values (from the vector m) into data structures v0, E0, events. Important note: the values of m where m_prior should be -inf (i.e., zero speed, not computed) are imposed equal to a very negative number during export to v0 (and hence also for the refined grid vf). So when computing arrivla times in the next iterations, the rays will be prevented from going through V=0 regions. </div><div class="ttdef"><b>Definition:</b> tomolib.cpp:292</div></div>
<div class="ttc" id="class_m_html_ab653e08675522b7db973777825ee5eb2"><div class="ttname"><a href="class_m.html#ab653e08675522b7db973777825ee5eb2">M::events</a></div><div class="ttdeci">std::vector&lt; locations::Location &gt; events</div><div class="ttdoc">vector storing event positions </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:59</div></div>
<div class="ttc" id="class_sources_html_a9e9d18baf071e3de6d1ea1d58b8bb455"><div class="ttname"><a href="class_sources.html#a9e9d18baf071e3de6d1ea1d58b8bb455">Sources::passive</a></div><div class="ttdeci">arma::uvec passive</div><div class="ttdoc">an array of the events indices for which valid data exist. </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:97</div></div>
<div class="ttc" id="class_parameters_html_a2aabd7d4c432c067c87446c430b0b137"><div class="ttname"><a href="class_parameters.html#a2aabd7d4c432c067c87446c430b0b137">Parameters::s_events</a></div><div class="ttdeci">double s_events</div><div class="ttdoc">variance on arrival times from events </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:35</div></div>
<div class="ttc" id="class_parameters_html_af0981e025f8ca9c984e862eb7778e498"><div class="ttname"><a href="class_parameters.html#af0981e025f8ca9c984e862eb7778e498">Parameters::s_t0</a></div><div class="ttdeci">double s_t0</div><div class="ttdoc">std dev on x position of events </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:45</div></div>
<div class="ttc" id="class_m_html_a7371d3ae555c21f0555fd8d30e76160b"><div class="ttname"><a href="class_m.html#a7371d3ae555c21f0555fd8d30e76160b">M::initialise</a></div><div class="ttdeci">void initialise(const Parameters &amp;)</div><div class="ttdoc">Initialisation of M from parameters. </div><div class="ttdef"><b>Definition:</b> tomolib.cpp:123</div></div>
<div class="ttc" id="class_d_html_a2a51e07cb62d4e2857b473a479217fec"><div class="ttname"><a href="class_d.html#a2a51e07cb62d4e2857b473a479217fec">D::forward_model</a></div><div class="ttdeci">void forward_model(M &amp;, arma::mat &amp;)</div><div class="ttdoc">method to compute theoretical arrival times from a model. </div><div class="ttdef"><b>Definition:</b> tomolib.cpp:541</div></div>
<div class="ttc" id="class_parameters_html_a877a21e7ec0f9ce1ed77fda9e2bead27"><div class="ttname"><a href="class_parameters.html#a877a21e7ec0f9ce1ed77fda9e2bead27">Parameters::s_surveys</a></div><div class="ttdeci">double s_surveys</div><div class="ttdoc">variance on arrival times from surveys </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:34</div></div>
<div class="ttc" id="class_parameters_html_a69c3f616da6012e882f5cc6a4ac2bc52"><div class="ttname"><a href="class_parameters.html#a69c3f616da6012e882f5cc6a4ac2bc52">Parameters::sensorfile</a></div><div class="ttdeci">std::string sensorfile</div><div class="ttdoc">name of sensor file (ascii) </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:20</div></div>
<div class="ttc" id="class_parameters_html_a96a537045f89c972ffad89796f39ece6"><div class="ttname"><a href="class_parameters.html#a96a537045f89c972ffad89796f39ece6">Parameters::s_y</a></div><div class="ttdeci">double s_y</div><div class="ttdoc">std dev on x position of events </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:43</div></div>
<div class="ttc" id="class_m_html_ab4b29e117e8249308cf4f738b2e470da"><div class="ttname"><a href="class_m.html#ab4b29e117e8249308cf4f738b2e470da">M::export_m</a></div><div class="ttdeci">void export_m()</div><div class="ttdoc">method to export directly the vector m into a dedicated text file. </div><div class="ttdef"><b>Definition:</b> tomolib.cpp:332</div></div>
<div class="ttc" id="class_parameters_html_a8844c0e0b7931802c29988b3eef1452d"><div class="ttname"><a href="class_parameters.html#a8844c0e0b7931802c29988b3eef1452d">Parameters::initialise</a></div><div class="ttdeci">void initialise(const std::string &amp;)</div><div class="ttdoc">initialisation of parameters from an ascii parameter file. </div><div class="ttdef"><b>Definition:</b> tomolib.cpp:49</div></div>
<div class="ttc" id="class_quasi_newton_html_ae970b4a40406d2a1f1bbaf97f3ee5708"><div class="ttname"><a href="class_quasi_newton.html#ae970b4a40406d2a1f1bbaf97f3ee5708">QuasiNewton::initialise</a></div><div class="ttdeci">void initialise(const Parameters &amp;)</div><div class="ttdoc">Method to initialise parameter values. </div><div class="ttdef"><b>Definition:</b> tomolib.cpp:754</div></div>
<div class="ttc" id="class_m_html_a93ca113823caa7be72cdb37b9f38f2b2"><div class="ttname"><a href="class_m.html#a93ca113823caa7be72cdb37b9f38f2b2">M::m</a></div><div class="ttdeci">arma::vec m</div><div class="ttdoc">vector of model parameters </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:56</div></div>
<div class="ttc" id="class_parameters_html_a0b28754d62c18f739744589a018a3fd5"><div class="ttname"><a href="class_parameters.html#a0b28754d62c18f739744589a018a3fd5">Parameters::Epriorfile</a></div><div class="ttdeci">std::string Epriorfile</div><div class="ttdoc">name of prior E structure file (.dat) </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:25</div></div>
<div class="ttc" id="class_parameters_html_a84da37ac0f21d429dfa2e42879b2583a"><div class="ttname"><a href="class_parameters.html#a84da37ac0f21d429dfa2e42879b2583a">Parameters::s_v</a></div><div class="ttdeci">double s_v</div><div class="ttdoc">std dev on ln(v) </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:39</div></div>
<div class="ttc" id="class_parameters_html_a63aca1b68e0c3a3719eff262f0d537d3"><div class="ttname"><a href="class_parameters.html#a63aca1b68e0c3a3719eff262f0d537d3">Parameters::dcalcfile</a></div><div class="ttdeci">std::string dcalcfile</div><div class="ttdoc">name of file for theoretical arrival times (ascii) </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:29</div></div>
<div class="ttc" id="class_parameters_html_a53e2cf472e9d687a26374cda4211ce8f"><div class="ttname"><a href="class_parameters.html#a53e2cf472e9d687a26374cda4211ce8f">Parameters::paramfile</a></div><div class="ttdeci">std::string paramfile</div><div class="ttdoc">name of parameter file (ascii) </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:19</div></div>
<div class="ttc" id="class_d_html_aa525d3826786c43ac8a2a7bbad2131a9"><div class="ttname"><a href="class_d.html#aa525d3826786c43ac8a2a7bbad2131a9">D::path</a></div><div class="ttdeci">std::vector&lt; Sources &gt; path</div><div class="ttdoc">this is a vector of Sources elements, of size equal to the number of sensors (virtual sources)...</div><div class="ttdef"><b>Definition:</b> tomolib.hpp:108</div></div>
<div class="ttc" id="class_parameters_html_aaae1c65836e5cc200a71e55e1f85b6cc"><div class="ttname"><a href="class_parameters.html#aaae1c65836e5cc200a71e55e1f85b6cc">Parameters::folder</a></div><div class="ttdeci">std::string folder</div><div class="ttdoc">name fo folder to store all input/saved files. </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:18</div></div>
<div class="ttc" id="class_quasi_newton_html_a3631a7faba07f2d19ac2077e81995396"><div class="ttname"><a href="class_quasi_newton.html#a3631a7faba07f2d19ac2077e81995396">QuasiNewton::Cmpost</a></div><div class="ttdeci">arma::mat Cmpost</div><div class="ttdoc">posterior covariance matrix on m </div><div class="ttdef"><b>Definition:</b> tomolib.hpp:138</div></div>
<div class="ttc" id="class_quasi_newton_html_ad6b725714c4ef6aeb9b40084051eda6f"><div class="ttname"><a href="class_quasi_newton.html#ad6b725714c4ef6aeb9b40084051eda6f">QuasiNewton::run</a></div><div class="ttdeci">void run(M &amp;, D &amp;)</div><div class="ttdoc">Method to run a set number of QuasiNewton iterations. this method ends when either the max number of ...</div><div class="ttdef"><b>Definition:</b> tomolib.cpp:804</div></div>
<div class="ttc" id="class_d_html_aae447abcdaa132f565316ee549893d3d"><div class="ttname"><a href="class_d.html#aae447abcdaa132f565316ee549893d3d">D::initialise</a></div><div class="ttdeci">void initialise(const Parameters &amp;, const M &amp;)</div><div class="ttdoc">Initialisation of D from parameters. </div><div class="ttdef"><b>Definition:</b> tomolib.cpp:349</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
